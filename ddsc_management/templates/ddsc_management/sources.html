{% extends "ddsc_management/base.html" %}
{% load i18n %}

{% block content %}
<div class="container-fluid">
<div class="row-fluid">
<div class="span6">
    <legend>Alle beschikbare bronnen</legend>
    <table
        cellpadding="0" cellspacing="0" border="0"
        class="data-table table table-bordered table-hover"
        data-url="{% url ddsc_management.api.sources.list %}"
        data-delete-url="{% url ddsc_management.api.sources.delete %}"
        data-columns='[
            {
                "sName": "name",
                "sTitle": "{% trans 'Naam' %}"
            },
            {
                "sName": "source_type",
                "sTitle": "{% trans 'Bron type' %}"
            },
            {
                "sName": "manufacturer",
                "sTitle": "{% trans 'Fabrikant' %}"
            }
        ]'>
        <thead>
        </thead>
        <tbody></tbody>
        <tfoot>
        </tfoot>
    </table>
</div>
<div id="detail-view" class="span6">
    <div class="row">
        {% if action == 'detail' %}
            <legend>Details</legend>
            <h2>{{ object.name }}</h2>
            <p>{{ object.details }}</p>
        {% elif action == 'add' %}
            {% url ddsc_management.sources.add as action %}
            {% with form=form form_id='add-form' form_header=_('Add item') action=action %}
            {% include 'ddsc_management/form.html' %}
            {% endwith %}
        {% elif action == 'edit' %}
            {% url ddsc_management.sources.edit pk=pk as action %}
            {% with form=form form_id='edit-form' form_header=_('Edit item') action=action %}
            {% include 'ddsc_management/form.html' %}
            {% endwith %}
        {% elif action == 'list' %}
            <legend>Details</legend>
            <p>No item selected.</p>
        {% else %}
            <p>ACTION UNDEFINED ? {{ action }}</p>
        {% endif %}
    </div>
    <div class="row">
        <div class="span12">
            {% if action == 'detail' %}
            <a href="{% url ddsc_management.sources.edit pk=pk %}" class="btn btn-info dynamic-link" data-target="detail-view"><i class="icon-edit"></i> Edit item</a>
            {% endif %}
            {% if action == 'detail' or action == 'list' %}
            <a href="{% url ddsc_management.sources.add %}" class="btn btn-info dynamic-link" data-target="detail-view"><i class="icon-plus"></i> Add a new item</a>
            {% endif %}
            {% if action == 'edit' %}
                <a href="{% url ddsc_management.sources.detail pk=pk %}" class="btn dynamic-link" data-target="detail-view"><i class="icon-ban-circle"></i> Cancel</a>
            {% endif %}
            {% if action == 'add' %}
                <a href="{% url ddsc_management.sources.list %}" class="btn dynamic-link" data-target="detail-view"><i class="icon-ban-circle"></i> Cancel</a>
            {% endif %}
        </div>
    </div>
</div>
</div>
</div>
{% endblock %}
